<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Main 1</title>
    <link rel="stylesheet" href="demo1.css" />
    <!-- Modular JavaScript files -->
    <script src="js/user-manager.js" defer></script>
    <script src="js/theme-manager.js" defer></script>
    <script src="js/storage-manager.js" defer></script>
    <script src="js/posts-manager.js" defer></script>
    <script src="js/auth-manager.js" defer></script>
    <script src="js/ui-manager.js" defer></script>
    <script src="js/utilities.js" defer></script>
    <script src="js/app.js" defer></script>
  </head>
  <body>
    <div class="topbar">
      <a href="demo1.html" class="logo-link">
        <div class="logo-container">
          <img src="IMG/smaller.png" alt="Logo" class="logo" />
          <span class="site-name">Crossvine</span>
        </div>
      </a>
      <div class="search-container">
        <select
          class="search-type-dropdown"
          id="searchType"
          onchange="updateSearchPlaceholder()"
        >
          <option value="hashtag">🏷️ Hashtag</option>
          <option value="user">👤 User</option>
          <option value="keywords">🔍 Keywords</option>
        </select>
        <input
          type="text"
          class="search-bar"
          placeholder="Search hashtags..."
          id="searchInput"
        />
      </div>
      <nav class="nav-links">
        <div class="login-dropdown">
          <a href="#" class="nav-link" id="loginToggle">Login</a>
          <div class="login-box" id="loginBox">
            <form class="login-form" onsubmit="handleLogin(event)">
              <div class="login-field">
                <input
                  type="text"
                  id="loginUsername"
                  placeholder="Username"
                  required
                />
              </div>
              <div class="login-field">
                <input
                  type="password"
                  id="loginPassword"
                  placeholder="Password"
                  required
                />
              </div>
              <button type="submit" class="login-submit-btn">Sign In</button>
            </form>
          </div>
        </div>
        <a href="demoRegister1.html" class="nav-link">Register</a>
      </nav>
    </div>
    <div class="sidebar">
      <div class="sidebar-content">
        <div class="hashtag-section">
          <h3>Saved Hashtags</h3>
          <div class="saved-hashtags">
            <p class="no-hashtags">Sign up to save hashtags!</p>
          </div>
        </div>
        <div class="hashtag-section">
          <h3>Trending Hashtags</h3>
          <div class="trending-hashtags">
            <span class="hashtag trending">#viral</span>
            <span class="hashtag trending">#news</span>
            <span class="hashtag trending">#trending</span>
            <span class="hashtag trending">#popular</span>
          </div>
        </div>
      </div>

      <div class="theme-toggle-section">
        <div class="theme-toggle">
          <span class="theme-label">Theme</span>
          <div class="toggle-switch">
            <input type="checkbox" id="themeToggle" class="toggle-checkbox" />
            <label for="themeToggle" class="toggle-label">
              <span class="toggle-slider">
                <span class="toggle-icon light">☀️</span>
                <span class="toggle-icon dark">🌙</span>
              </span>
            </label>
          </div>
        </div>
      </div>
    </div>
    <div class="main-content">
      <div class="create-post-section">
        <h3>Create New Post</h3>
        <div class="create-post-form">
          <textarea
            class="post-textarea"
            placeholder="What's on your mind? Use hashtags to categorize your post..."
            maxlength="500"
            rows="4"
          ></textarea>

          <div class="post-actions">
            <span class="char-counter">0/500</span>
            <button class="submit-post-btn" type="button">Post</button>
          </div>
        </div>
      </div>

      <div class="post-filters">
        <div class="filter-section">
          <h4>📊 Sort Posts</h4>
          <div class="filter-group">
            <select id="sortFilter" class="filter-select">
              <option value="recent">🕒 Most Recent</option>
              <option value="oldest">⏰ Oldest First</option>
              <option value="most-likes">👍 Most Likes</option>
              <option value="least-likes">👍 Least Likes</option>
              <option value="most-dislikes">👎 Most Dislikes</option>
              <option value="least-dislikes">👎 Least Dislikes</option>
            </select>
          </div>
        </div>

        <div class="filter-section">
          <h4>📝 Content Type</h4>
          <div class="filter-group">
            <label class="filter-checkbox">
              <input type="checkbox" id="showText" checked /> 📝 Text Posts
            </label>
          </div>
        </div>

        <div class="filter-section">
          <button id="resetFilters" class="reset-filters-btn">
            🔄 Reset Filters
          </button>
        </div>
      </div>

      <div class="posts-feed">
        <h3>Recent Posts</h3>
        <!-- Posts will be displayed here -->
      </div>
    </div>

    <!-- Clear Data Button -->
    <button
      onclick="if(confirm('Clear all user data?')){localStorage.clear();location.reload();}"
      style="
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 40px;
        height: 40px;
        background: red;
        color: white;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        z-index: 9999;
      "
    >
      🗑️
    </button>
  </body>
</html>
